test:
  suites:
  - name: Data Catalog v1beta1 Create Tag Template sample tests
    setup:
    # Get project ID from environment variable.
    - env:
        name: GOOGLE_PROJECT_ID
        variable: project_id
    cases:
    - name: Create Tag Template
      spec:
      - call:
          sample: datacatalog_create_tag_template
          params:
            project_id:
              variable: project_id
            location_id:
              literal: "us-central1"
      - extract_match:
          pattern: locations/([\w-]+)
          variable: location_id
      - extract_match:
          pattern: tagTemplates/([\w-]+)
          variable: tag_template_id
      - assert_contains:
        - literal: "Tag Template name:"
    teardown:
    - call:
        sample: datacatalog_delete_tag_template
        params:
            project_id:
              variable: project_id
            location_id:
              variable: location_id
            tag_template_id:
              variable: tag_template_id
